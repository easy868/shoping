<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no,email=no" name="format-detection">
    <title>支付成功</title>
    <link rel="stylesheet" href="css/base.css">
</head>
<body>
<div class="wrapper">
    <div class="header bgf">
        <span class="payresult-img"></span>
        <p class="pay-state">&nbsp;&nbsp;支付成功！</p>
        <a href="allorders.html" class="seeorder">查看订单</a>
        <a href="index.html" class="goindex2">返回首页</a>
    </div>
    <!--支付-->
    <div class="recom-content bgf clearfix">
        <div class="content-left bgf">
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="saletime-icon">限时特价</span>
                        <span class="discount-icon">限时优惠</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第一个商品</p>
                    <p class="shop-intro tworow f12">的撒开了打</p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第二个商品</p>
                    <p class="shop-intro tworow f12">第二个付款了盛大交付抗裂砂浆大量女性在监考老师 </p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="hotshop-icon">限时特价</span>
                        <span class="hotshop-icon">限时优惠</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第三个商品</p>
                    <p class="shop-intro tworow f12">的撒开了家空链接我就去分开来的就是发 </p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第四个商品</p>
                    <p class="shop-intro tworow f12">的撒开了家空链接我就去分开来的就是发 </p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第五个商品</p>
                    <p class="shop-intro tworow f12">的撒开了家空链接我就去分开来的就是发 </p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
            <div class="adiv">
                <a href="">
                    <div class="posi-img">
                        <img src="imagestest/1.png" alt="" width="100%">
                        <span class="hotshop-icon">热销</span>
                        <span class="hot-new"><span class="rota">上新</span></span>
                    </div>
                    <p class="list-name f13 ellip">第6个商品</p>
                    <p class="shop-intro tworow f12">的撒开了家空链接我就去分开来的就是发 </p>
                    <div class="price">
                        <p>
                            <span class="">¥128</span><span class="" style="text-decoration: line-through;color: #666;margin-left: 5px;font-size: 10px;">￥500</span>
                            <span style="float: right;font-size: 12px;margin-right: 5px;">7.5 <span style="font-size: 11px;">折</span></span>
                        </p>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <!--商品-->
    <!--推荐的商品-->
</div>
<script src="js/jquery-3.1.1.min.js"></script>
<script type="text/javascript">
    /*
     原理：1.把所有的li的高度值放到数组里面
     2.第一行的top都为0
     3.计算高度值最小的值是哪个li
     4.把接下来的li放到那个li的下面
     */
    function wang() {//定义成函数便于调用
        var contleft = $('.content-left');
        var li = $(".adiv");//这里是区块名称
        var margin = 0;//这里设置间距
        var li_W = li[0].offsetWidth + margin;//取区块的实际宽度（包含间距，这里使用源生的offsetWidth函数，不适用jQuery的width()函数是因为它不能取得实际宽度，例如元素内有pandding就不行了）
        var h = [];//记录区块高度的数组
        var n = 2//窗口的宽度除以区块宽度就是一行能放几个区块
        var pos = [];
        for (var i = 0; i < li.length; i++) {//有多少个li就循环多少次
            li_H = li[i].offsetHeight;//获取每个li的高度
            if (i < n) {//n是一行最多的li，所以小于n就是第一行了
                h[i] = li_H;//把每个li放到数组里面
                li.eq(i).css("top", 0);//第一行的Li的top值为0
                li.eq(i).css("left", i * li_W);//第i个li的左坐标就是i*li的宽度
            }
            else {
                min_H = Math.min.apply(null, h);//取得数组中的最小值，区块中高度值最小的那个
                minKey = getarraykey(h, min_H);//最小的值对应的指针
                h[minKey] += li_H + margin;//加上新高度后更新高度值
                li.eq(i).css("top", min_H + margin);//先得到高度最小的Li，然后把接下来的li放到它的下面
                li.eq(i).css("left", minKey * li_W);	//第i个li的左坐标就是i*li的宽度
//                pos[min_H] += li.eq(i).outerHeight();
            }
        }
        var maxh = Math.max.apply({}, h) + 10;
        contleft.css('height', maxh);
    }
    /* 使用for in运算返回数组中某一值的对应项数(比如算出最小的高度值是数组里面的第几个) */
    function getarraykey(s, v) {
        for (k in s) {
            if (s[k] == v) {
                return k;
            }
        }
    }
    //    window.setTimeout(function(){$(".content-left").css({"height":$("body")[0].scrollHeight+"px"})},500);
    //    这里一定要用onload，因为图片不加载完就不知道高度值
    //设置最外容器的高以适应内容的变化

    window.onload = function () {
        wang();
    };
    window.onresize = function () {
        wang();
    };
    $('.clatxt').on('click', function () {
        $('.sidebar-mask').animate({"right": 0}, 500)
    });
    $('.sidebar-mask').on('click', function () {
        $(this).animate({"right": "-100%"}, 500)
    });
    $('.sidebar').click(function (even) {
        even.stopPropagation()
    });
    //    侧边栏
</script>
</body>
</html>